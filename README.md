# 180B Workspace

Contains notebooks and python scripts for data analysis and model training on 
the DEHNN data and model.

## Instructions

1. Make sure you have already downloaded the processed superblue data and placed 
it in the de_hnn data folder.

2. Set up the environment with the requirements.txt from the DEHNN repository.

3. Place all the files in the `scripts` folder in the root directory of the 
DEHNN repository. These scripts can be run to perform analysis, create 
visualizations, or modify the processed data for the graph representation.

4. Replace the `train_all_cross.py` file in the `de_hnn` folder and 
`pyg_dataset.py` file in the `de_hnn\data` folder with those of the same name 
in the `modified` folder.

5. Run the notebook, analysis and model training scripts with the DEHNN 
environment.

## File Structure

- `src`: contains all the python scripts and exploratory notebooks
   - `scripts`: contains scripts that can be run from root directory of DEHNN 
    repository that either manipulate data or perform analysis
      - `valid_pairs.py`: script for creating valid_pairs.csv
      - `random_walk_rep.py`: modifies `pyg_data.pkl` in the processed DEHNN 
        data to connect source-destination pairs from the results of random 
        walks. Saves it to `pyg_data_modified.pkl`
      - `analyze_pairs.py`: performs surface level analysis and visualizations
         on the `valid_pairs.csv` data
      - `analyze_pairs_detailed.py`: performs more in depth analysis and 
       visualizations on the `valid_pairs.csv` data
   - `notebooks`: contains all notebooks used for exploratory analysis
      - `data_exploration.ipynb`: contains exploratory analysis of DEHNN 
        datasets and model architecture
   - `modified`: contains files that have been modified from the original DEHNN 
    repository that needs to be replaced
      - `pyg_dataset.py`: replace original file of same name in DEHNN repo in 
      the `de_hnn/data` folder
      - `train_all_cross.py`: replace original file of same name in DEHNN repo 
      in the `de_hnn` folder. 
- `data`: contains all data generated by scripts and notebooks in src
   - `valid_pairs.csv`: table of source, destination pairs that are 
    topologically far but physically close, along with their features
   - `vn_features_init.csv`: table of initial VN features for all designs
